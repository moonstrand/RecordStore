(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18e4e666"],{"27cc":function(e,t,s){},"3ba2":function(e,t,s){"use strict";s("27cc")},a55b:function(e,t,s){"use strict";s.r(t);var o=s("7a23");const n=Object(o["i"])("div",{class:"nav-bg"},null,-1),a={class:"login-bg"},i={class:"container"},c={class:"login-input col-lg-6 col-md-8 col-11 border border-1 p-5"},r=Object(o["i"])("p",{class:"h2 login-title border-start border-secondary border-5 ps-3 mb-4"}," 後台登入 ",-1),l={class:"form-floating mb-3"},d=Object(o["i"])("label",{for:"floatingInput"},"Email address",-1),b={class:"form-floating"},u=Object(o["i"])("label",{for:"floatingPassword"},"Password",-1),p=Object(o["i"])("button",{class:"btn btn-lg btn-secondary fw-bold w-100 mt-3",type:"submit"}," 登入 ",-1);function g(e,t,s,g,m,h){const f=Object(o["I"])("Loading");return Object(o["B"])(),Object(o["h"])(o["a"],null,[Object(o["l"])(f,{active:m.isLoading,loader:"bars",color:"#555"},null,8,["active"]),n,Object(o["i"])("div",a,[Object(o["i"])("section",i,[Object(o["i"])("form",{class:"row login-h d-flex justify-content-center align-items-center",onSubmit:t[2]||(t[2]=Object(o["Z"])((...e)=>h.signIn&&h.signIn(...e),["prevent"]))},[Object(o["i"])("div",c,[r,Object(o["i"])("div",l,[Object(o["Y"])(Object(o["i"])("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com",autofocus:"","onUpdate:modelValue":t[0]||(t[0]=e=>m.user.username=e)},null,512),[[o["S"],m.user.username]]),d]),Object(o["i"])("div",b,[Object(o["Y"])(Object(o["i"])("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>m.user.password=e)},null,512),[[o["S"],m.user.password]]),u]),p])],32)])])],64)}var m={data(){return{user:{username:"",password:""},isLoading:!1}},inject:["toast"],methods:{signIn(){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/admin/signin";this.$http.post(e,this.user).then(e=>{if(e.data.success){const{token:t,expired:s}=e.data;document.cookie=`recordToken = ${t}; expires = ${new Date(s)}`,this.$router.push("/dashboard/products")}else this.toast.error(e.data.message+"，帳號密碼有誤，請重新輸入");this.isLoading=!1}).catch(e=>{this.toast.error("請求失敗，代碼："+e.response.status),this.isLoading=!1})}}},h=(s("3ba2"),s("6b0d")),f=s.n(h);const j=f()(m,[["render",g]]);t["default"]=j}}]);
//# sourceMappingURL=chunk-18e4e666.206f3231.js.map