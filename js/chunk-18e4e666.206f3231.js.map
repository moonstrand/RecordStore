{"version":3,"sources":["webpack:///./src/views/Login.vue?2cf6","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?a459"],"names":["_createElementVNode","class","for","type","_createVNode","_component_Loading","active","$data","loader","color","_hoisted_1","onSubmit","$options","_hoisted_5","id","placeholder","autofocus","username","$event","_hoisted_7","password","_hoisted_9","_hoisted_10","data","user","isLoading","inject","methods","signIn","this","api","$http","post","then","res","success","token","expired","document","cookie","Date","$router","push","toast","error","message","catch","err","response","status","__exports__","render"],"mappings":"2IAAA,W,iECEEA,eAA0B,OAArBC,MAAM,UAAQ,S,GACdA,MAAM,Y,GACAA,MAAM,a,GAKNA,MAAM,4D,EACTD,eAUI,KATFC,MAAM,mEAOP,UAED,G,GACKA,MAAM,sB,EASTD,eAAgD,SAAzCE,IAAI,iBAAgB,iBAAa,G,GAErCD,MAAM,iB,EAQTD,eAA8C,SAAvCE,IAAI,oBAAmB,YAAQ,G,EAExCF,eAKS,UAJPC,MAAM,8CACNE,KAAK,UACN,QAED,G,8GA9CRC,eAA0DC,EAAA,CAAhDC,OAAQC,YAAWC,OAAO,OAAOC,MAAM,QAAjD,mBACAC,EACAV,eAgDM,MAhDN,EAgDM,CA/CJA,eA8CU,UA9CV,EA8CU,CA7CRA,eA4CO,QA3CLC,MAAM,+DACLU,SAAM,mCAAUC,yBAAM,eAFzB,CAIEZ,eAuCM,MAvCN,EAuCM,CAtCJa,EAWAb,eAUM,MAVN,EAUM,gBATJA,eAOE,SANAG,KAAK,QACLF,MAAM,eACNa,GAAG,gBACHC,YAAY,mBACZC,UAAA,G,qCACST,OAAKU,SAAQC,IANxB,mBAMWX,OAAKU,YAEhBE,IAEFnB,eASM,MATN,EASM,gBARJA,eAME,SALAG,KAAK,WACLF,MAAM,eACNa,GAAG,mBACHC,YAAY,W,qCACHR,OAAKa,SAAQF,IALxB,mBAKWX,OAAKa,YAEhBC,IAEFC,KArCJ,SAFJ,IAoDa,OACbC,OACE,MAAO,CACLC,KAAM,CACJP,SAAU,GACVG,SAAU,IAEZK,WAAW,IAGfC,OAAQ,CAAC,SACTC,QAAS,CACPC,SACEC,KAAKJ,WAAY,EACjB,MAAMK,EAAO,oDACbD,KAAKE,MACFC,KAAKF,EAAKD,KAAKL,MACfS,KAAMC,IACL,GAAIA,EAAIX,KAAKY,QAAS,CACpB,MAAM,MAAEC,EAAF,QAASC,GAAYH,EAAIX,KAC/Be,SAASC,OAAU,iBAAgBH,gBAAoB,IAAII,KAAKH,KAChER,KAAKY,QAAQC,KAAK,4BAElBb,KAAKc,MAAMC,MAASV,EAAIX,KAAKsB,QAAX,iBAEpBhB,KAAKJ,WAAY,IAElBqB,MAAOC,IACNlB,KAAKc,MAAMC,MAAO,WAAUG,EAAIC,SAASC,QACzCpB,KAAKJ,WAAY,O,iCC7E3B,MAAMyB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-18e4e666.206f3231.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=c38d55fa&lang=scss\"","<template>\n  <Loading :active=\"isLoading\" loader=\"bars\" color=\"#555\" />\n  <div class=\"nav-bg\"></div>\n  <div class=\"login-bg\">\n    <section class=\"container\">\n      <form\n        class=\"row login-h d-flex justify-content-center align-items-center\"\n        @submit.prevent=\"signIn\"\n      >\n        <div class=\"login-input col-lg-6 col-md-8 col-11 border border-1 p-5\">\n          <p\n            class=\"\n              h2\n              login-title\n              border-start border-secondary border-5\n              ps-3\n              mb-4\n            \"\n          >\n            後台登入\n          </p>\n          <div class=\"form-floating mb-3\">\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              id=\"floatingInput\"\n              placeholder=\"name@example.com\"\n              autofocus\n              v-model=\"user.username\"\n            />\n            <label for=\"floatingInput\">Email address</label>\n          </div>\n          <div class=\"form-floating\">\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              id=\"floatingPassword\"\n              placeholder=\"Password\"\n              v-model=\"user.password\"\n            />\n            <label for=\"floatingPassword\">Password</label>\n          </div>\n          <button\n            class=\"btn btn-lg btn-secondary fw-bold w-100 mt-3\"\n            type=\"submit\"\n          >\n            登入\n          </button>\n        </div>\n      </form>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n      },\n      isLoading: false,\n    };\n  },\n  inject: ['toast'],\n  methods: {\n    signIn() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}admin/signin`;\n      this.$http\n        .post(api, this.user)\n        .then((res) => {\n          if (res.data.success) {\n            const { token, expired } = res.data;\n            document.cookie = `recordToken = ${token}; expires = ${new Date(expired)}`;\n            this.$router.push('/dashboard/products');\n          } else {\n            this.toast.error(`${res.data.message}，帳號密碼有誤，請重新輸入`);\n          }\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.toast.error(`請求失敗，代碼：${err.response.status}`);\n          this.isLoading = false;\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/scss/components/_login.scss\";\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=c38d55fa\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=c38d55fa&lang=scss\"\n\nimport exportComponent from \"D:\\\\User\\\\Desktop\\\\Vue 3\\\\record_store\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}